<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Eventos Fase 01</name>
    <events>
        <comment>Multiplicador de velocidade.</comment>
        <variable constant="0" name="Multiplicador" sid="667474474002943" static="0" type="number">1</variable>
        <comment>Opacidade do layer do terreno de terra.</comment>
        <variable constant="0" name="OpacidadeTerra" sid="189911597820434" static="0" type="number">0</variable>
        <comment>Opacidade do layer do terreno de grama.</comment>
        <variable constant="0" name="OpacidadeGrama" sid="452350720226217" static="0" type="number">100</variable>
        <comment>Armazena os pontos do jogador.</comment>
        <variable constant="0" name="Pontos" sid="868001230573254" static="0" type="number">0</variable>
        <comment>Identifica a pista atual que se encontra o carro.</comment>
        <variable constant="0" name="PistaAtual" sid="400069639259638" static="0" type="number">2</variable>
        <event-group description="Grupo responsável por simular o movimento da estrada, do fundo e das bordas." sid="657307276627161" title="Simula Movimento">
            <sub-events>
                <event-block sid="913180352516056">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="260700908316313" type="System" />
                    </conditions>
                    <actions>
                        <action id="-2" name="Set Y" sid="466102189984443" type="Estrada">
                            <param id="0" name="Y">Estrada.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="133230460141651" type="FundoGrama">
                            <param id="0" name="Y">FundoGrama.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="531922170899915" type="BordaEsquerdaGrama">
                            <param id="0" name="Y">BordaEsquerdaGrama.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="572799009196714" type="BordaDireitaGrama">
                            <param id="0" name="Y">BordaDireitaGrama.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="427706849301916" type="FundoTerra">
                            <param id="0" name="Y">FundoTerra.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="644117627278484" type="BordaDireitaTerra">
                            <param id="0" name="Y">BordaDireitaTerra.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="431784019290092" type="BordaEsquerdaTerra">
                            <param id="0" name="Y">BordaEsquerdaTerra.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="455930891303344" type="FundoAreia">
                            <param id="0" name="Y">FundoAreia.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="602303655324543" type="BordaDireitaAreia">
                            <param id="0" name="Y">BordaDireitaAreia.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="294229371977331" type="BordaEsquerdaAreia">
                            <param id="0" name="Y">BordaEsquerdaAreia.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="838659542591975" type="ControleDir">
                            <param id="0" name="Y">ControleDir.Y + 5</param>
                        </action>
                        <action id="-2" name="Set Y" sid="292412677336608" type="ControleEsq">
                            <param id="0" name="Y">ControleEsq.Y + 5</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="972338413663483">
                    <conditions>
                        <condition id="-2" name="Compare Y" sid="674632506358581" type="Estrada">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Y co-ordinate">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Set Y" sid="909083684802584" type="Estrada">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="782246697591532" type="FundoGrama">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="125081617124799" type="BordaEsquerdaGrama">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="477919077862634" type="BordaDireitaGrama">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="392171487061273" type="FundoTerra">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="397287569748678" type="BordaDireitaTerra">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="764350638465790" type="BordaEsquerdaTerra">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="884304898673527" type="FundoAreia">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="987141438101867" type="BordaDireitaAreia">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="938187543987635" type="BordaEsquerdaAreia">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="167425457732752" type="ControleDir">
                            <param id="0" name="Y">-255</param>
                        </action>
                        <action id="-2" name="Set Y" sid="915492667138325" type="ControleEsq">
                            <param id="0" name="Y">-255</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Grupo responsável por controlar a posição do carro." sid="972529406490534" title="Controle de Alteração da Pista">
            <sub-events>
                <comment>Ao tocar o gatilho do controle esquerdo é subtraído 1 ao valor da pista atual. O valor não pode ser substiuído caso o valor da pista atual for menor que 1.</comment>
                <event-block sid="393115390987151">
                    <conditions>
                        <condition id="3" name="On touched object" sid="525740803555642" type="Touch">
                            <param id="0" name="Object">ControleEsq</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="727872993906660" type="System">
                            <param id="0" name="Variable">PistaAtual</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Subtract from" sid="448894144706999" type="System">
                            <param id="0" name="Variable">PistaAtual</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Ao tocar o gatilho do controle direito é adicionado 1 ao valor da pista atual. O valor não pode ser substiuído caso o valor da pista atual for maior que 3.</comment>
                <event-block sid="228157540078876">
                    <conditions>
                        <condition id="3" name="On touched object" sid="339489015691918" type="Touch">
                            <param id="0" name="Object">ControleDir</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="157434021818140" type="System">
                            <param id="0" name="Variable">PistaAtual</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">3</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="470925162983883" type="System">
                            <param id="0" name="Variable">PistaAtual</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Grupo responsável por alterar a posição do carro conforme o valor da pista atual é alterado." sid="971761465484589" title="Controle de Posicionamento da Pista">
            <sub-events>
                <comment>Caso o valor da pista atual for 1 a posição do eixo X do jogador é definido para 120.</comment>
                <event-block sid="196117993479740">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="447689192956647" type="System">
                            <param id="0" name="Variable">PistaAtual</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="402870032369786" type="Player">
                            <param id="0" name="X">120</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Caso o valor da pista atual for 2 a posição do eixo X do jogador é definido para 240.</comment>
                <event-block sid="759107570316783">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="169433186561940" type="System">
                            <param id="0" name="Variable">PistaAtual</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="757925192226866" type="Player">
                            <param id="0" name="X">240</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Caso o valor da pista atual for 3 a posição do eixo X do jogador é definido para 355.</comment>
                <event-block sid="203591922716145">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="408679667288305" type="System">
                            <param id="0" name="Variable">PistaAtual</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">3</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="197924891470459" type="Player">
                            <param id="0" name="X">355</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Grupo responsável por gerenciar a destruição dos inimigos." sid="875286337379595" title="Destrói Inimigos">
            <sub-events>
                <comment>Ao entrar em colisão com o gatilho de destruição o inimigo é destruído. O gatilho se encontra abaixo da borda inferior da tela. </comment>
                <event-block sid="118860245065095">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="353594833768076" type="Inimigos">
                            <param id="0" name="Object">DespawnerInimigos</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="396901354451202" type="Inimigos" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Grupo responsável por spawnar os inimigos." sid="656834136869997" title="Spawner de Inimigos">
            <sub-events>
                <comment>A cada um segundo é criado um inimigo no gatilho de spawner de inimigos. Quando é criado um inimigo novo é randomizado a pista a qual o inimigo estará e o sprite do inimigo. O gatilho se encontra acima da borda superior da tela.</comment>
                <event-block sid="820705755565712">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="691555725710873" type="System">
                            <param id="0" name="Interval (seconds)">1.0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="691775442311121" type="SpawnerInimigos">
                            <param id="0" name="Object">Inimigos</param>
                            <param id="1" name="Layer">&quot;Player&quot;</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="5" name="Set frame" sid="915851906176344" type="Inimigos">
                            <param id="0" name="Frame number">int(random(0,4))</param>
                        </action>
                        <action id="-1" name="Set X" sid="102035924887060" type="Inimigos">
                            <param id="0" name="X">120 + choose(0, 120, 235)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Grupo responsável por gerenciar os eventos de colisão entre o jogador e o inimigo." sid="805045013077800" title="Colisão Inimigo-Jogador">
            <sub-events>
                <comment>Ao colidir com um inimigo o jogo acaba. Os grupos de funcionamento do jogo são desativados. A tela de Game Over é exibida e os detalhes do jogo são destruídos.</comment>
                <event-block sid="600973023233827">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="625716385838197" type="Player">
                            <param id="0" name="Object">Inimigos</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Set group active" sid="641999252412867" type="System">
                            <param id="0" name="Group name">&quot;Spawner de Inimigos&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                        <action id="-12" name="Set group active" sid="278090711332063" type="System">
                            <param id="0" name="Group name">&quot;Controle de Alteração da Pista&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                        <action id="-12" name="Set group active" sid="611819172440537" type="System">
                            <param id="0" name="Group name">&quot;Controle de Posicionamento da Pista&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                        <action id="-12" name="Set group active" sid="168854786833337" type="System">
                            <param id="0" name="Group name">&quot;Simula Movimento&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="796268612688314" type="System">
                            <param id="0" name="Layer">&quot;Controle&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="963624769913867" type="System">
                            <param id="0" name="Layer">&quot;Player&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="491112341545444" type="System">
                            <param id="0" name="Layer">&quot;Derrota&quot;</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="-9" name="Destroy" sid="499002100782023" type="Particles" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Grupo que controla o menu de GameOver." sid="145673012259279" title="Controle do Menu">
            <sub-events>
                <comment>Caso a layer de GameOver esteja visível e o botão de retornar ao menu principal for tocado o jogo retorna ao menu principal.</comment>
                <event-block sid="410528113399889">
                    <conditions>
                        <condition id="3" name="On touched object" sid="952764986611615" type="Touch">
                            <param id="0" name="Object">FundoBotao</param>
                        </condition>
                        <condition id="-9" name="Layer is visible" sid="772522353407340" type="System">
                            <param id="0" name="Layer">&quot;Derrota&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="505946279386494" type="System">
                            <param id="0" name="Layout">Menu Principal</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Grupo responsável por definir os valores, funcionamentos e configurações iniciais da fase." sid="198662330455807" title="Configurações Iniciais ">
            <sub-events>
                <comment>Durante todo tempo de execução o texto de exibição dos pontos é movido para o topo do layer e o texto de exibição dos pontos exibe os pontos do jogador.</comment>
                <event-block sid="359097677746628">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="338670109155111" type="System" />
                    </conditions>
                    <actions>
                        <action id="-24" name="Move to top" sid="542949633669761" type="TextoPontos" />
                        <action id="0" name="Set text" sid="976883381986593" type="TextoPontos">
                            <param id="0" name="Text">Pontos</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Durante todo tempo de execução a opacidade dos layers de terreno recebem os valores das variáveis globais de opacidade.</comment>
                <event-block sid="440730899275332">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="210010661913576" type="System" />
                    </conditions>
                    <actions>
                        <action id="-18" name="Set layer opacity" sid="332358743047086" type="System">
                            <param id="0" name="Layer">&quot;FundoGrama&quot;</param>
                            <param id="1" name="Opacity">OpacidadeGrama</param>
                        </action>
                        <action id="-18" name="Set layer opacity" sid="763181599480107" type="System">
                            <param id="0" name="Layer">&quot;BordaGrama&quot;</param>
                            <param id="1" name="Opacity">OpacidadeGrama</param>
                        </action>
                        <action id="-18" name="Set layer opacity" sid="636109048952561" type="System">
                            <param id="0" name="Layer">&quot;FundoTerra&quot;</param>
                            <param id="1" name="Opacity">OpacidadeTerra</param>
                        </action>
                        <action id="-18" name="Set layer opacity" sid="450022048062755" type="System">
                            <param id="0" name="Layer">&quot;BordaTerra&quot;</param>
                            <param id="1" name="Opacity">OpacidadeTerra</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="586157589677709">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="886902281554129" type="System" />
                    </conditions>
                    <actions>
                        <action id="-12" name="Set group active" sid="740586718050488" type="System">
                            <param id="0" name="Group name">&quot;SpawnaInimigos&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                        <action id="-12" name="Set group active" sid="623920768079399" type="System">
                            <param id="0" name="Group name">&quot;ControlaPista&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                        <action id="-12" name="Set group active" sid="471036492713394" type="System">
                            <param id="0" name="Group name">&quot;SimulaMovimento&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="146737731368354" type="System">
                            <param id="0" name="Layer">&quot;Controle&quot;</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="187865338722854" type="System">
                            <param id="0" name="Layer">&quot;Player&quot;</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="138529556593950" type="System">
                            <param id="0" name="Layer">&quot;Derrota&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="126528143275176" type="System">
                            <param id="0" name="Variable">Pontos</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="865795868607638" type="Particles">
                            <param id="0" name="Pin to">Player</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="426871961920487" title="Pontos">
            <sub-events>
                <event-block sid="957636247086986">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="537612598338162" type="System">
                            <param id="0" name="Interval (seconds)">0.5</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="514843324472900" type="System">
                            <param id="0" name="Variable">Pontos</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Add to" sid="634887380968653" type="System">
                            <param id="0" name="Variable">Multiplicador</param>
                            <param id="1" name="Value">0.0001</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="277121051493179">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="977433032959234" type="System">
                            <param id="0" name="Variable">Pontos</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">20</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="755933993874396">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="655476520013164" type="System">
                                    <param id="0" name="Interval (seconds)">0.5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Subtract from" sid="593065037281271" type="System">
                                    <param id="0" name="Variable">OpacidadeGrama</param>
                                    <param id="1" name="Value">5</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="675921339876089">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="904548568808814" type="System">
                            <param id="0" name="Variable">Pontos</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">40</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="835799878951147">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="747866456599446" type="System">
                                    <param id="0" name="Interval (seconds)">0.5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Subtract from" sid="619349391576010" type="System">
                                    <param id="0" name="Variable">OpacidadeTerra</param>
                                    <param id="1" name="Value">5</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="191481972252352">
            <conditions>
                <condition id="-2" name="On start of layout" sid="338491128750078" type="System" />
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="200830914861986" type="System">
                    <param id="0" name="Variable">OpacidadeGrama</param>
                    <param id="1" name="Value">100</param>
                </action>
                <action id="-9" name="Set value" sid="249676526755367" type="System">
                    <param id="0" name="Variable">OpacidadeTerra</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="776017520527507">
            <conditions>
                <condition id="-1" name="Every tick" sid="359389278354436" type="System" />
            </conditions>
            <actions>
                <action behavior="Bullet" id="0" name="Set speed" sid="517564938825915" type="Inimigos">
                    <param id="0" name="Speed">Inimigos.Bullet.Speed * Multiplicador</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
